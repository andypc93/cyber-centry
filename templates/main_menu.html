<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/pico.min.css') }}">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
    }

    header {
      background-color: #333;
      color: #fff;
      padding: 20px 0;
      text-align: center;
    }

    header h1 {
      color: #fff;
      margin: 10px 0;
    }

    nav {
      background-color: #444;
      padding: 0.5rem 0;
      display: flex;
      justify-content: center;
    }

    nav ul {
      list-style-type: none;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      margin: 0;
    }

    nav ul li a {
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      display: block;
    }

    .container {
      max-width: 960px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    footer {
      background-color: #333;
      color: white;
      text-align: center;
      padding: 1rem 0;
    }

    footer a {
      color: #fdfefe;
      text-decoration: none;
    }
     
    /* Style The Dropdown Button */
    .dropbtn {
      color: white;
      padding: 10px 15px;
      text-decoration: none;
      display: block;
      text-align: left;
    }

    .dropdown {
      position: relative; /* This ensures the dropdown is positioned relative to its parent */
    }

    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #444;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      top: 100%; /* This positions the dropdown right below the button */
      border-radius: 15px;
      left: 0;
    }

    /* Links inside the dropdown */
    .dropdown-content a {
      color: white;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    /* Change color of dropdown links on hover */
    .dropdown-content a:hover {background-color: #555}

    /* Show the dropdown menu on hover */
    .dropdown:hover .dropdown-content {display: block;}

    /* Change the background color of the dropdown button when the dropdown content is shown */
    .dropdown:hover .dropbtn {background-color: #555;}

    .content-wrapper {
    min-height: 0; /* Remove any minimum height constraint if set */
    overflow: visible; /* Make sure that overflow content is not hidden */
}

    #plot-image {
    display: block; /* Displayed when the user is logged in */
    width: auto; /* Adjust width to auto to maintain aspect ratio without specifying exact size */
    max-width: 100%; /* Limit the width to not exceed the container's width */
    height: auto; /* Auto height to maintain aspect ratio */
    margin: 20px auto; /* Center the image with margin */
    object-fit: contain; /* Ensure the entire image fits within the given dimensions */
}

  </style>
  <title>Main Menu - CyberSentry</title>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const username = localStorage.getItem('username');
        if(username) {
            // Update the 'Your Profile' link to display the username
            const profileLink = document.querySelector('nav ul li a[href="login_page.html"]');
            profileLink.innerHTML = `<i class="fas fa-user"></i> ${username}`;
            profileLink.href = 'user_profile.html'; // Assuming you have a profile page
        }
    });
    function subscribeToNewsletter(event) {
  event.preventDefault(); // Prevent the default form submission

  var firstName = document.getElementById('firstname').value;
  var email = document.getElementById('email').value;

  fetch("https://script.google.com/macros/s/AKfycbwTsohIvMDjojeA7a59-7QhJM1YT-8T9wpKA3BKGHCljcXGXnXXdIADq77MPnWwbEXRfw/exec", {
    method: 'POST',
    mode: 'no-cors', // Important to prevent CORS errors
    contentType: 'application/json',
    body: JSON.stringify({firstName: firstName, email: email})
  })
  .then(response => {
    console.log('Subscription successful');
    alert("Thank you for subscribing, " + firstName + "!");
    document.getElementById('newsletter-form').reset(); // Optionally, reset the form
  })
  .catch(error => console.error('Error:', error));
}

    document.addEventListener('DOMContentLoaded', function() {
      const username = localStorage.getItem('username');
      const plotImage = document.getElementById('plot-image');
      const loadMoreButton = document.getElementById('load-more');
      const profileTab = document.getElementById('profileTab');
      const logoutTab = document.getElementById('logoutTab');
    
      if (username) {
        // User is logged in, show Logout option and other elements
        if (profileTab) profileTab.style.display = 'none';
        if (logoutTab) logoutTab.style.display = 'block';
        if (profileTab) profileTab.querySelector('a').innerHTML = `<i class="fas fa-user"></i> ${username}`;
        plotImage.style.display = 'block'; // Show the plot image
        loadMoreButton.style.display = 'inline-block'; // Show the load more button
      } else {
        // User is not logged in, hide certain elements
        plotImage.style.display = 'none';
        loadMoreButton.style.display = 'none';
      }
    
      const logoutLink = document.getElementById('logout');
      if (logoutLink) {
        logoutLink.addEventListener('click', function(e) {
          e.preventDefault();
          localStorage.removeItem('username'); // Clear user session
          if (profileTab) profileTab.style.display = 'block';
          if (logoutTab) logoutTab.style.display = 'none';
          window.location.href = 'main_menu.html'; // Redirect to main menu after logout
        });
      }
    });
  </script>
</head>
<body>
  <header>
      <img src="https://i.postimg.cc/WbmdM5Mj/Picture1.png" alt="CyberSentry Logo" style="width: 100px; height: 100px;">
      <h1>CyberSentry</h1>
  </header>
  <nav class="container-fluid">
      <ul>
          <li><a href="{{ url_for('menu') }}">Home</a></li>
          <li><a href="{{ url_for('about') }}">About</a></li>
          <li class="dropdown">
              <a href="#" class="dropbtn">Help</a>
              <div class="dropdown-content">
                  <a href="{{ url_for('services') }}">Services</a>
                  <a href="{{ url_for('menu') }}#Contact">Contact</a>
                  <a href="{{ url_for('faq') }}">FAQ</a>
              </div>
          </li>
          <li id="profileTab"><a href="{{ url_for('login_page') }}"><i class="fas fa-user"></i> Login</a></li>
          <li id="logoutTab" style="display: none;"><a href="#" id="logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
      </ul>
  </nav>
  <main class="container">
      <section>
          <h2>Welcome to CyberSentry</h2>
          <h3>Your trusted partner in Cyber Security.</h3>
          <p>At CyberSentry, we provide top-notch security solutions to protect your digital assets. Our services are designed to give you peace of mind in the evolving landscape of cyber threats.</p>
          <figure>
              <img src="https://source.unsplash.com/featured/?cybersecurity" alt="Cybersecurity" />
              <figcaption><a href="https://unsplash.com/s/photos/cybersecurity" target="_blank"></a></figcaption>
          </figure>
          <h3>Our Services</h3>
          <p>Navigate the complexities of cybersecurity with our bespoke services designed to fortify your enterprise's defenses. Engage with our suite of state-of-the-art solutions, meticulously crafted to protect your business from the forefront of digital threats. Let's elevate your security posture together.</p>
          <h3 id="Contact">Contact Us</h3>
          <p>Your security is our priority. Reach out to our dedicated team of cybersecurity professionals for personalized consultation and robust support. Whether you have questions, require assistance, or need a custom security strategy, we're here to guide you to a safer digital future. Contact us today.</p>
          <p><a href="mailto:cybersentrysupport@cybersentry.org">Email: cybersentrysupport@cybersentry.org</a></p>
          <p><a href="tel:000-000-0000">Tel: 000-000-0000</a></p>
      </section>
  </main>
  <section aria-label="Subscribe example" class="container">
      <h2>Stay Updated</h2>
      <h3>Subscribe to our Newsletter</h3>
      <form class="grid" id="newsletter-form" onsubmit="subscribeToNewsletter(event)">
          <input type="text" id="firstname" name="firstname" placeholder="First Name" aria-label="First Name" required />
          <input type="email" id="email" name="email" placeholder="Email Address" aria-label="Email Address" required />
          <button type="submit">Subscribe</button>
      </form>
  </section>
  <footer>
      <small>
          <a>2024 CyberSentry. All rights reserved.</a>
      </small>
  </footer>
</body>
</html>
